(this.webpackJsonpits=this.webpackJsonpits||[]).push([[0],{38:function(e,t,n){e.exports=n.p+"static/media/add.151f63a5.svg"},39:function(e,t,n){e.exports=n.p+"static/media/locked_project.cdd8dc1e.svg"},40:function(e,t,n){e.exports=n.p+"static/media/project.54e467ef.svg"},43:function(e,t,n){e.exports=n(91)},48:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},73:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){},91:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(18),o=n.n(c),i=(n(48),n(9)),s=n(13),l=n(3),u=n(2),m=(n(53),function(e){var t=e.type,n=e.name,a=e.onChange,c=e.value,o=e.placeholder,i=e.onblur,s=e.alertMessage;return r.a.createElement("div",null,r.a.createElement("input",{className:"text_input w-full border-b-2",type:t,name:n,onChange:a,value:c,placeholder:o,onBlur:i}),r.a.createElement("div",{className:"text_input_alert text-14 text-red-600"},s))}),p="https://its-api.herokuapp.com",d="We don't recognize this email, please sign up to get started",f="Login fail. Please try again",b="Register fail. Please try again",h="This email address is already in use",v="This username is already in use",g="Something when wrong. Please try again later.",j="Project name repeated.",O="text_alert",E="text",y="textarea",w="radio",P=(n(54),function(e){var t=e.handleInput,n=e.inputList,a=e.handleInputOnblur;return r.a.createElement(r.a.Fragment,null,n.map((function(e){return r.a.createElement(r.a.Fragment,{key:"formInput".concat(e.name)},e.title?r.a.createElement("div",{className:"formInput_title font-semibold"},e.title):null,e.inputType===O?r.a.createElement(m,{name:e.name,type:e.type,onChange:t,value:e.value,placeholder:e.placeholder,alertMessage:e.alertMessage,onblur:a}):e.inputType===E?r.a.createElement("input",{className:"formInput_text w-full",name:e.name,type:e.type,onChange:t,value:e.value,placeholder:e.placeholder,onBlur:a}):e.inputType===y?r.a.createElement("textarea",{className:"formInput_textarea w-full",name:e.name,onChange:t,value:e.value,placeholder:e.placeholder}):e.inputType===w?r.a.createElement("div",{className:"formInput_radio_container flex flex-wrap"},e.option.map((function(n,a){var c=a===parseInt(e.value);return r.a.createElement("div",{key:"formInput_radio".concat(n).concat(a),className:"formInput_radio_layout flex relative"},r.a.createElement("div",{className:"formInput_radio  rounded-full border-main border-solid ".concat(c?"border-5":"border-2")},r.a.createElement("input",{className:"absolute top-0 left-0 w-full h-full opacity-0",type:"radio",name:e.name,value:a,checked:c,onChange:t})),n)})),r.a.createElement("br",null)):"")})))}),_=n(14),S=n.n(_),I=n(17),N=n(24),x=n.n(N);x.a.defaults.headers.post["Content-Type"]="application/json";var k={},T=x.a.create({timeout:5e3,onUploadProgress:function(e){document.body.style.cursor=e.loaded===e.total?"default":"progress"}});k.fire=function(){var e=Object(I.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",T.request(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var C=k,L={getMyProfile:function(){var e="".concat(p,"/profile/me?sessionId=").concat(localStorage.getItem("sessionId"),"&profileId=").concat(localStorage.getItem("profileId"));return C.fire({url:e,method:"GET"})},getProfileById:function(e){var t="".concat(p,"/profile?profileId=").concat(e);return C.fire({url:t,method:"GET"})}},A=L,F="Auth/AUTH_SUCCESS",D="Auth/AUTH_LOGOUT",R=function(e){return function(t){var n={username:e.username};e.sessionId&&localStorage.setItem("sessionId",e.sessionId),(0===e.profileId||e.profileId)&&localStorage.setItem("profileId",e.profileId),t({type:F,payload:n})}},M=function(){return function(e){localStorage.removeItem("sessionId"),localStorage.removeItem("profileId"),e({type:D})}},U={register:function(e){var t="".concat(p,"/session");return C.fire({url:t,method:"POST",data:e})},login:function(e){var t="".concat(p,"/session/login");return C.fire({url:t,method:"POST",data:e})},logout:function(){var e="".concat(p,"/session/logout?sessionId=").concat(localStorage.getItem("sessionId"));return C.fire({url:e,method:"DELETE"})},verifyEmail:function(e){var t="".concat(p,"/session/verify/email?email=").concat(e);return C.fire({url:t,method:"GET"})},verifyUsername:function(e){var t="".concat(p,"/session/verify/username?username=").concat(e);return C.fire({url:t,method:"GET"})}},B=U,H="/login",G="/register",J="/dashboard",W="/project",V="/issue",$="/setting",q=(n(73),Object(s.e)((function(e){var t=Object(u.b)(),n=Object(u.c)((function(e){return e.AuthReducer})).username;return r.a.createElement("div",{className:"header flex justify-between items-center bg-blue-500 sticky top-0"},r.a.createElement("div",{className:"text-28"},r.a.createElement(i.b,{to:J},"ITS")),r.a.createElement("div",{className:"header_link_container flex text-16"},r.a.createElement("div",{className:"header_link"},"Hi ".concat(n)),r.a.createElement("div",{className:"header_link cursor-pointer",onClick:function(){B.logout(),M()(t),e.history.push("/login")}},"Logout")))}))),z=[{name:"Dashboard",path:J},{name:"Projects",path:W},{name:"Issue",path:V}],K=(n(75),function(e){return r.a.createElement("div",{className:"nav_sidebar bg-333"},r.a.createElement("div",{className:"nav_sidebar_container fixed flex flex-col"},z.map((function(e){return r.a.createElement(i.b,{key:"sliderBar_".concat(e.name),className:"nav_sidebar_link text-white font-bold",to:e.path},e.name)}))))}),Y=Object(s.e)((function(e){var t=e.isLogined,n=e.history,c=e.children,o=Object(u.b)();return Object(a.useEffect)((function(){if(t){if(!localStorage.getItem("sessionId"))return M()(o),void n.push("/login");A.getMyProfile().then((function(e){R(e.data)(o)}),(function(){M()(o),n.push("/login")}))}else if(localStorage.getItem("sessionId"))return void n.push("/dashboard")}),[]),r.a.createElement("div",{className:"layout min-h-screen flex flex-col"},t?r.a.createElement(r.a.Fragment,null,r.a.createElement(q,null),r.a.createElement("div",{className:"flex flex-grow"},r.a.createElement(K,null),c)):c)})),Q=(n(76),function(e){var t=e.title,n=e.children,a=e.linkTo,c=e.link,o=e.buttonEnable,s=e.handleSubmit,l=e.submitButtom;return r.a.createElement(Y,{isLogined:!1},r.a.createElement("div",{className:"auth_layout text-18 flex justify-center items-center w-full h-full min-h-screen bg-blue-400"},r.a.createElement("div",{className:"auth_form mx-auto w-full bg-white rounded"},r.a.createElement("div",{className:"auth_form_title text-blue-600 text-28 inline-block"},t),n,r.a.createElement(i.b,{className:"auth_bottom_link text-blue-600 text-14 block",to:a},c),r.a.createElement("span",{className:"main_btn btn-active btn-sm inline-block".concat(o?"":" disable"),onClick:s},l))))}),X=n(20),Z=n.n(X),ee=Object(s.e)((function(e){var t=Object(u.b)(),n=Object(a.useState)(""),c=Object(l.a)(n,2),o=c[0],i=c[1],s=Object(a.useState)(""),m=Object(l.a)(s,2),p=m[0],b=m[1],h=Object(a.useState)(""),v=Object(l.a)(h,2),g=v[0],j=v[1],E=Object(a.useState)(""),y=Object(l.a)(E,2),w=y[0],_=y[1],S=[{name:"email",type:"text",value:o,placeholder:"Email",alertMessage:p,inputType:O},{name:"password",type:"password",value:g,placeholder:"Password",alertMessage:w,inputType:O}];return r.a.createElement(Q,{title:"Login",link:"Don't have an account? Sign up now!",linkTo:G,submitButtom:"Login",handleSubmit:function(n){B.login({email:o,password:Z()(g)}).then((function(n){var a=n.data;R(a)(t),e.history.push("/dashboard")}),(function(e){switch(e.response.status){case 401:_(f),b("");break;case 404:_(""),b(d);break;default:_(f),b("")}}))},buttonEnable:o&&g},r.a.createElement(P,{inputList:S,handleInput:function(e){var t=e.target.name,n=e.target.value;switch(t){case"email":i(n);break;case"password":j(n)}},handleInputOnblur:function(e){}}))})),te=Object(s.e)((function(e){var t=Object(u.b)(),n=Object(a.useState)(""),c=Object(l.a)(n,2),o=c[0],i=c[1],s=Object(a.useState)(""),m=Object(l.a)(s,2),p=m[0],d=m[1],f=Object(a.useState)(""),g=Object(l.a)(f,2),j=g[0],E=g[1],y=Object(a.useState)(""),w=Object(l.a)(y,2),_=w[0],N=(w[1],Object(a.useState)("")),x=Object(l.a)(N,2),k=x[0],T=x[1],C=Object(a.useState)(""),L=Object(l.a)(C,2),A=L[0],F=(L[1],Object(a.useState)("")),D=Object(l.a)(F,2),M=D[0],U=D[1],G=Object(a.useState)(""),J=Object(l.a)(G,2),W=J[0],V=J[1],$=function(){return o?B.verifyEmail(o).then((function(){return d(h),!1}),(function(){return d(""),!0})):(d(""),!1)},q=function(){return M?B.verifyUsername(M).then((function(){return V(v),!1}),(function(){return V(""),!0})):(V(""),!1)},z=function(){var e=Object(I.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$();case 2:if(e.t0=e.sent,!e.t0){e.next=7;break}return e.next=6,q();case 6:e.t0=e.sent;case 7:if(!e.t0){e.next=9;break}K();case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(){B.register({email:o,password:Z()(j),username:M}).then((function(n){var a=n.data;R(a)(t),e.history.push("/dashboard")}),(function(e){V(b)}))},Y=function(){var e=Object(I.a)(S.a.mark((function e(t){var n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.name,e.t0=n,e.next="email"===e.t0?4:"username"===e.t0?6:8;break;case 4:return $(),e.abrupt("break",9);case 6:return q(),e.abrupt("break",9);case 8:return e.abrupt("break",9);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=[{name:"email",type:"text",value:o,placeholder:"Email",alertMessage:p,inputType:O},{name:"password",type:"password",value:j,placeholder:"Password",alertMessage:_,inputType:O},{name:"confirm_username",type:"password",value:k,placeholder:"Confirm passowrd",alertMessage:A,inputType:O},{name:"username",type:"text",value:M,placeholder:"Username",alertMessage:W,inputType:O}];return r.a.createElement(Q,{title:"Register",link:"Already have an account? Log in now!",linkTo:H,submitButtom:"Register",handleSubmit:z,buttonEnable:o&&j&&j===k&&M},r.a.createElement(P,{inputList:X,handleInput:function(e){var t=e.target.name,n=e.target.value;switch(t){case"email":i(n);break;case"password":E(n);break;case"confirm_username":T(n);break;case"username":U(n)}},handleInputOnblur:Y}))})),ne=function(){return r.a.createElement(Y,{isLogined:!0},' "LOGIN_SUCCESS"')},ae=(n(79),n(38)),re=n.n(ae),ce=function(e){var t=e.action,n=e.wording;return r.a.createElement("div",{className:"addButton_container main_btn btn-sm btn-active flex",onClick:t},r.a.createElement("img",{className:"addButton_img h-full",src:re.a}),n)},oe=(n(80),function(e){var t=e.children;return r.a.createElement("div",{className:"popUp_container fixed inset-0 bg-popUp"},r.a.createElement("div",{className:"popUp w-full h-full relative flex justify-center items-center"},t))}),ie=(n(81),function(){return r.a.createElement("div",{className:"loadingSpinner_container"},r.a.createElement("div",{className:"loadingSpinner"}),r.a.createElement("div",{className:"loadingSpinner"}),r.a.createElement("div",{className:"loadingSpinner"}))}),se=(n(82),function(e){var t=e.handleLeftOption,n=e.handleRightOption,a=e.leftOption,c=e.rightOption,o=e.isActive;return r.a.createElement("div",{className:"form_footer_btn w-full flex justify-between"},r.a.createElement("span",{className:"main_btn btn-cancel",onClick:t},a||"Cancel"),r.a.createElement("span",{className:"main_btn btn-active".concat(o?"":" disable"),onClick:n},c))}),le="Add New Project",ue="name",me="Project Name",pe="description",de="Description",fe="isPrivate",be="Is Private ?",he="Private",ve="Public",ge="Add",je=(n(83),function(e){var t=e.handleCancel,n=e.handleSubmit,c=e.errorMsg,o=Object(a.useState)(""),i=Object(l.a)(o,2),s=i[0],u=i[1],m=Object(a.useState)(""),p=Object(l.a)(m,2),d=p[0],f=p[1],b=Object(a.useState)(0),h=Object(l.a)(b,2),v=h[0],g=h[1],j=[{name:ue,type:"text",value:s,placeholder:me,title:me,inputType:E},{name:pe,title:de,value:d,placeholder:de,inputType:y},{name:fe,title:be,value:v,option:[ve,he],inputType:w}];return r.a.createElement("div",{className:"projectForm_container bg-white rounded-4 max-h-full w-full overflow-y-auto text-18"},r.a.createElement("div",{className:"projectForm_title text-20 font-bold"},le),r.a.createElement(P,{inputList:j,handleInput:function(e){var t=e.target.name,n=e.target.value;switch(t){case ue:u(n);break;case pe:f(n);break;case fe:g(n)}}}),r.a.createElement(se,{handleLeftOption:t,handleRightOption:function(){n({name:s,description:d,isPrivate:1===parseInt(v)})},rightOption:ge,isActive:s.length>0}),r.a.createElement("div",{className:"text-red-600"},c))}),Oe=n(39),Ee=n.n(Oe),ye=n(40),we=n.n(ye),Pe=" Project : ",_e=" Create At : ",Se=(n(84),function(e){e.id;var t=e.name,n=(e.description,e.create_time),a=e.isPrivate,c=e.owner,o=new Date(n);return r.a.createElement("div",{className:"projectCard w-full"},r.a.createElement("div",{className:"projectCard_title text-20 font-semibold flex"},r.a.createElement("img",{className:"projectCard_icon",src:a?Ee.a:we.a}),"".concat(Pe).concat(c,"/").concat(t)),r.a.createElement("div",{className:"projectCard_createAt text-16"},"".concat(_e).concat(o.toLocaleString())))}),Ie="Projects/FETCH_PROJECTS",Ne="Projects/FETCH_TASK_SUCCESS",xe="Projects/FETCH_PROJECTS_BOTTOM",ke="Projects/TOGGLE_NEW_PROJECT_FORM",Te="Projects/ADD_NEW_PROJECT",Ce="Projects/ADD_NEW_PROJECT_SUCCESS",Le="Projects/ADD_NEW_PROJECT_FAIL",Ae={addNewProject:function(e){var t="".concat(p,"/project?sessionId=").concat(localStorage.getItem("sessionId"));return C.fire({url:t,method:"POST",data:e})},getProject:function(e){var t="".concat(p,"/project/get?sessionId=").concat(localStorage.getItem("sessionId"));return C.fire({url:t,method:"POST",data:e})}},Fe=Ae,De=function(){return function(e,t){var n=t().ProjectsReducer,a=n.projectTimestamp;if(!n.isFetchingProject){e({type:Ie});var r={timestamp:a,user_id:localStorage.getItem("profileId"),limit:15,isOwner:!1};Fe.getProject(r).then((function(t){var n=t.data;n.length?e({type:Ne,payload:n}):e({type:xe,payload:n})}),(function(e){console.log(e)}))}}},Re=(n(85),function(){var e=Object(u.d)().getState,t=Object(u.b)(),n=Object(u.c)((function(e){return e.ProjectsReducer})),c=n.projectList,o=n.projectTimestamp,i=n.isFetchingProject,s=n.isProjectFetchBottom,l=n.isAddingProject,m=n.showNewProjectForm,p=n.newProjectErrorMsg;Object(a.useEffect)((function(){null===o&&De()(t,e)}),[]);var d=function(){window.innerHeight+Math.ceil(window.scrollY)>=document.body.offsetHeight&&!i&&!s&&De()(t,e)};Object(a.useEffect)((function(){return window.addEventListener("scroll",d),function(){window.removeEventListener("scroll",d)}}));var f=function(){!function(e,t){var n=t().ProjectsReducer.showNewProjectForm;e({type:ke,payload:!n})}(t,e)};return r.a.createElement(Y,{isLogined:!0},r.a.createElement("div",{className:"project_container"},r.a.createElement(ce,{action:f,wording:"New Project"}),r.a.createElement("div",{className:"project_list"},c.map((function(e){return r.a.createElement(Se,{key:"$projectCard".concat(e.id),id:e.id,name:e.name,description:e.description,create_time:e.create_time,isPrivate:e.isPrivate,owner:e.owner})})),i?r.a.createElement(ie,null):null)),m?r.a.createElement(oe,null,r.a.createElement(je,{handleCancel:l?null:f,handleSubmit:function(e){l||function(e){return function(t){t({type:Te}),Fe.addNewProject(e).then((function(e){t({type:Ce,payload:e.data})}),(function(e){var n=e.response.status;t({type:Le,payload:409===n?j:g})}))}}(e)(t)},errorMsg:p})):null)}),Me="ISSUE/FETCH_ISSUE_SUCCESS",Ue=function(){var e=Object(u.c)((function(e){return e.IssueReducer.issueList})),t=Object(u.b)();return Object(a.useEffect)((function(){!function(e){e({type:Me,payload:[456]})}(t)}),[]),r.a.createElement(Y,{isLogined:!0},r.a.createElement("div",null,"test issue reducer : ",e," "))};n(86);var Be=function(){return console.log(Object({NODE_ENV:"production",PUBLIC_URL:"/its",REACT_APP_ENV:"prod"})),r.a.createElement("div",{className:"App"},r.a.createElement(i.a,{basename:"/"},r.a.createElement(s.a,{path:H,component:ee}),r.a.createElement(s.a,{path:G,component:te}),r.a.createElement(s.a,{path:J,component:ne}),r.a.createElement(s.a,{path:W,component:Re}),r.a.createElement(s.a,{path:V,component:Ue}),r.a.createElement(s.a,{path:$,component:ne}),r.a.createElement(s.a,{path:"/",exact:!0,component:ee})))},He=n(12),Ge=n(41),Je=n.n(Ge),We=n(42),Ve=n(15);function $e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(n),!0).forEach((function(t){Object(Ve.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ze={projectList:[],isFetchingProject:!1,isProjectFetchBottom:!1,projectTimestamp:null,showNewProjectForm:!1,newProjectErrorMsg:null,isAddingProject:!1};function Ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var Ye={issueList:[]};function Qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(n),!0).forEach((function(t){Object(Ve.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ze={username:""};var et=Object(He.c)({ProjectsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ze,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload,r=e.projectList;switch(n){case Ie:return qe({},e,{isFetchingProject:!0});case Ne:return qe({},e,{projectList:r.concat(a),projectTimestamp:a[a.length-1].create_time,isFetchingProject:!1});case xe:return qe({},e,{isProjectFetchBottom:!0,isFetchingProject:!1});case ke:return qe({},e,{showNewProjectForm:a,newProjectErrorMsg:null});case Te:return qe({},e,{isAddingProject:!0});case Ce:return qe({},e,{isAddingProject:!1,showNewProjectForm:!1,projectList:[a].concat(r)});case Le:return qe({},e,{isAddingProject:!1,newProjectErrorMsg:a});default:return e}},AuthReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case F:return Xe({},e,{username:a.username});case D:return Xe({},e,{},Ze);default:return e}},IssueReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case Me:return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(n),!0).forEach((function(t){Object(Ve.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{issueList:e.issueList.concat(a)});default:return e}}});var tt=Object(He.e)(et,function(){var e=[We.a,Je.a];return Object(He.d)(He.a.apply(void 0,e))}());Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(u.a,{store:tt},r.a.createElement(Be,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[43,1,2]]]);
//# sourceMappingURL=main.ba46c19b.chunk.js.map